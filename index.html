<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <title>Untitled</title>
    

  </head>
    
  <body>
  <!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>è°¿å±±è¡Œæ—…å¤§å¯Œç¿ - è¡Œå‹•ç‰ˆ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;700&display=swap');
        
        body {
            font-family: 'Noto Serif TC', serif;
            background-color: #1a1510;
            color: #d4c3a3;
            margin: 0;
            padding: 0;
            overflow: hidden; /* é˜²æ­¢æ‰‹æ©Ÿç€è¦½å™¨å›å½ˆæ•ˆæœ */
            touch-action: manipulation;
        }

        .board-container {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            grid-template-rows: repeat(7, 1fr);
            width: 98vw;
            height: 98vw;
            max-width: 600px;
            max-height: 600px;
            border: 3px solid #5d4a3a;
            background-color: #3d3126;
            margin: 10px auto;
            position: relative;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }

        .cell {
            border: 0.5px solid #5d4a3a;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-size: 0.65rem;
            text-align: center;
            background: #4a3c2f;
            position: relative;
        }

        .cell-name {
            font-weight: bold;
            line-height: 1;
            padding: 2px;
            word-break: break-all;
        }

        .center-art {
            grid-area: 2 / 2 / 7 / 7;
            position: relative;
            background: #000;
            border: 1px solid #5d4a3a;
        }

        .center-art img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            opacity: 0.8;
        }

        .player-token {
            width: 18px;
            height: 18px;
            background-color: #ff4d4d;
            border-radius: 50%;
            position: absolute;
            z-index: 50;
            transition: all 0.4s ease-in-out;
            box-shadow: 0 0 8px #ff4d4d;
            border: 2px solid #fff;
        }

        .ui-panel {
            padding: 10px;
            display: flex;
            justify-content: space-around;
            background: #2c241e;
            border-bottom: 1px solid #5d4a3a;
        }

        .controls {
            position: fixed;
            bottom: 20px;
            left: 0;
            right: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            pointer-events: none;
        }

        .dice-box {
            background: rgba(61, 49, 38, 0.95);
            border: 2px solid #d4c3a3;
            padding: 15px 30px;
            border-radius: 50px;
            pointer-events: auto;
            display: flex;
            align-items: center;
            gap: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.4);
        }

        .modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.8);
            display: none;
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .modal-content {
            background: #3d3126;
            border: 2px solid #d4c3a3;
            padding: 25px;
            border-radius: 15px;
            width: 100%;
            max-width: 320px;
            text-align: center;
        }
    </style>
</head>
<body class="flex flex-col h-screen">

    <!-- é ‚éƒ¨ç‹€æ…‹æ¬„ -->
    <div class="ui-panel">
        <div class="text-sm font-bold">ğŸ”‹ é«”åŠ›: <span id="energy" class="text-green-400">100</span></div>
        <div class="text-sm font-bold">âœï¸ æ–‡é‡‡: <span id="score" class="text-yellow-400">0</span></div>
    </div>

    <!-- æ¨™é¡Œ -->
    <h1 class="text-center text-xl mt-2 font-bold tracking-widest text-[#d4c3a3]">è°¿å±±è¡Œæ—…åœ–ï¼šé€ åŒ–å¤§å¯Œç¿</h1>

    <!-- æ£‹ç›¤å€ -->
    <div class="flex-grow flex items-center justify-center">
        <div class="board-container" id="board">
            <div class="center-art">
                <img src="https://images.unsplash.com/photo-1578321272176-b7bbc0679853?auto=format&fit=crop&q=80&w=1000" alt="è°¿å±±è¡Œæ—…åœ–å±€éƒ¨">
                <div class="absolute bottom-2 right-2 text-[10px] opacity-40">èŒƒå¯¬ ç­†</div>
            </div>
            <div id="player" class="player-token"></div>
        </div>
    </div>

    <!-- æ“ä½œå€ -->
    <div class="controls">
        <div class="dice-box">
            <div id="dice-result" class="text-3xl">ğŸ²</div>
            <button id="roll-btn" class="bg-[#8b7355] text-white px-8 py-3 rounded-full font-bold active:scale-95 transition-transform text-lg">
                å‰è¡Œ
            </button>
        </div>
    </div>

    <!-- äº‹ä»¶å½ˆçª— -->
    <div id="modal-overlay" class="modal-overlay">
        <div class="modal-content">
            <h2 id="modal-title" class="text-xl font-bold mb-4 text-yellow-500"></h2>
            <p id="modal-desc" class="text-base leading-relaxed mb-6"></p>
            <button id="modal-close" class="w-full bg-[#8b7355] py-3 rounded-lg font-bold text-white">é ˜æ‚Ÿé“ç†</button>
        </div>
    </div>

    <script>
        const cells = [
            { name: "å…¥å±±", icon: "â›°ï¸", type: "start", desc: "å¾è¯åŸæ•…é‡Œå‡ºç™¼ï¼ŒèƒŒè² ç•«å…·ï¼Œæ­¥å…¥è°¿å±±ã€‚", e: 0, s: 0 },
            { name: "é£›ç€‘", icon: "ğŸ’¦", type: "event", desc: "ä¸»å±±å·¦å´é£›ç€‘å¦‚ç™½ç·šè½ä¸‹ï¼Œæ°´è²éœ‡è€³ï¼Œéˆæ„Ÿçˆ†ç™¼ï¼", e: -5, s: 20 },
            { name: "å·¨çŸ³", icon: "ğŸª¨", type: "penalty", desc: "è¿‘æ™¯å·¨çŸ³æ©«è‡¥ï¼Œéœ€ç¹é“è€Œè¡Œï¼Œé«”åŠ›æ¶ˆè€—åŠ‡çƒˆã€‚", e: -20, s: 5 },
            { name: "é©¢éšŠ", icon: "ğŸ", type: "luck", desc: "é‡è¦‹é¦±é‹çš„é©¢éšŠèˆ‡è¡Œæ—…ï¼Œèˆ‡å…¶åŒè¡Œä¸€æ®µè·¯ã€‚", e: 10, s: 10 },
            { name: "ç­†æ„", icon: "ğŸ–Œï¸", type: "event", desc: "è§€å¯Ÿå±±é«”è³ªæ„Ÿï¼Œé«”æ‚Ÿã€Œé›¨é»çš´ã€çš„å¥§å¦™ã€‚", e: -5, s: 25 },
            { name: "æµæ°´", icon: "ğŸŒŠ", type: "luck", desc: "æºªæ°´æ¸…æ¾ˆè¦‹åº•ï¼Œæ´—ä¸€æŠŠè‡‰ï¼Œç²¾ç¥å¤§æŒ¯ã€‚", e: 15, s: 5 },
            { name: "å±±è·¯", icon: "ğŸ›¤ï¸", type: "neutral", desc: "å°å¾‘å´å¶‡ï¼Œèœ¿èœ’é€²å…¥å±±è…¹æ·±è™•ã€‚", e: -5, s: 5 },
            
            { name: "è˜­è‹¥", icon: "ğŸ›•", type: "luck", desc: "æ·±å±±å‡¹è™•éš±æœ‰å¯ºå»Ÿï¼Œå€Ÿå®¿ä¸€æ™šï¼Œæ¢å¾©é«”åŠ›ã€‚", e: 30, s: 5 },
            { name: "é›²éœ§", icon: "â˜ï¸", type: "penalty", desc: "å±±è…°é›²éœ§ç•™ç™½ï¼Œè¿·å¤±äº†æ–¹ä½ï¼Œå¾˜å¾Šå¤šæ™‚ã€‚", e: -15, s: 10 },
            { name: "è€æ¨¹", icon: "ğŸŒ³", type: "event", desc: "è¿‘æ™¯æ—æœ¨èŒ‚å¯†ï¼Œæå¹¹æ‰­æ›²æœ‰è‡´ï¼Œå…¥ç•«ç”šç¾ã€‚", e: -5, s: 15 },
            { name: "ç°½å", icon: "ğŸ–‹ï¸", type: "luck", desc: "åœ¨æ¨¹å¢éš±è”½è™•ç™¼ç¾ã€ŒèŒƒå¯¬ã€æ¬¾å­—ï¼Œç²å¾—å®—å¸«åº‡ä½‘ï¼", e: 10, s: 40 },
            { name: "å³­å£", icon: "ğŸ—»", type: "event", desc: "ä¸»å³°å¦‚å·¨ç‰†å£“é ‚ï¼Œæ„Ÿå—ã€Œä¸å–ç¹é£¾ã€çš„å£¯é—Šã€‚", e: -10, s: 30 },
            { name: "å±±äº­", icon: "ğŸ›–", type: "neutral", desc: "åŠå±±äº­é–£æ­‡è…³ï¼Œé çœºé‡å·’ç–Šå¶‚ã€‚", e: 5, s: 5 },
            
            { name: "å±å", icon: "ğŸ§˜", type: "event", desc: "åœ¨å·¨çŸ³ä¸Šæ•´æ—¥å±åï¼Œç¸±ç›®å››é¡§ï¼Œä»¥æ±‚å…¶è¶£ã€‚", e: -10, s: 35 },
            { name: "å¢¨è‰²", icon: "ğŸ¨", type: "luck", desc: "é«”æ‚Ÿå¢¨åˆ†äº”è‰²ï¼Œç•«è—é€²å¢ƒä¸€æ—¥åƒé‡Œã€‚", e: 0, s: 25 },
            { name: "å¯’æ—", icon: "â„ï¸", type: "penalty", desc: "å†·é›¨è¥²ä¾†ï¼Œå±±è‰²å³­å¤ï¼Œè¡Œé€²å›°é›£ã€‚", e: -15, s: 10 },
            { name: "å¤§åº¦", icon: "âœ¨", type: "luck", desc: "æ€§æ ¼æº«åšå¤§åº¦ï¼Œå»£çµå–„ç·£ï¼Œç²è´ˆç›¤çºã€‚", e: 15, s: 15 },
            { name: "çš´æ³•", icon: "ğŸ“", type: "event", desc: "çŸ­ç­†çš´å‡ºåœŸçŸ³è³ªæ„Ÿï¼Œå¯«å‡ºå±±ä¹‹çœŸéª¨ã€‚", e: -10, s: 30 },
            { name: "è½‰è§’", icon: "ğŸš©", type: "neutral", desc: "æŸ³æš—èŠ±æ˜ï¼Œå‰æ–¹å±±å‹¢æ„ˆç™¼å·å³¨ã€‚", e: -5, s: 5 },
            
            { name: "ä¸»å³°", icon: "ğŸ”ï¸", type: "event", desc: "ç›´é¢åƒä»ä¸»å³°ï¼Œç•«ä½œçš„æ ¸å¿ƒæ‰€åœ¨ï¼Œéœ‡æ’¼å¿ƒéˆï¼", e: -20, s: 80 },
            { name: "é€ åŒ–", icon: "ğŸ‘ï¸", type: "luck", desc: "å¸«äººä¸è‹¥å¸«è«¸é€ åŒ–ï¼Œå¿ƒé ˜ç¥æœƒï¼Œå¤§å¾¹å¤§æ‚Ÿã€‚", e: 20, s: 50 },
            { name: "å¾Œå­¸", icon: "ğŸ“œ", type: "event", desc: "è‘£å…¶æ˜Œé¡Œè·‹ï¼šåŒ—å®—èŒƒä¸­ç«‹ã€‚åè²å‚³éå¾Œä¸–ã€‚", e: 0, s: 40 },
            { name: "æ·±å£‘", icon: "ğŸ•³ï¸", type: "penalty", desc: "èª¤å…¥æ·±æºå£‘è°·ï¼Œæ”€çˆ¬è²»åŠ›ã€‚", e: -20, s: 10 },
            { name: "æ­¸ç¨‹", icon: "ğŸ¡", type: "start", desc: "å›åˆ°å±±è…³ä¸‹ï¼Œå°‡æ‰€è¦‹æ‰€èç¹ªæˆå‚³ä¸–ç¥ä½œã€‚", e: 10, s: 10 }
        ];

        let energy = 100;
        let score = 0;
        let currentPos = 0;
        let isMoving = false;

        function getCellCoords(index) {
            let row, col;
            if (index < 7) { row = 0; col = index; }
            else if (index < 13) { row = index - 6; col = 6; }
            else if (index < 19) { row = 6; col = 6 - (index - 12); }
            else { row = 6 - (index - 18); col = 0; }
            return { row, col };
        }

        function initBoard() {
            const board = document.getElementById('board');
            cells.forEach((cell, i) => {
                const { row, col } = getCellCoords(i);
                const div = document.createElement('div');
                div.className = 'cell';
                div.style.gridRow = row + 1;
                div.style.gridColumn = col + 1;
                div.innerHTML = `<span class="opacity-50 text-[8px]">${cell.icon}</span><div class="cell-name">${cell.name}</div>`;
                board.appendChild(div);
            });
            updatePlayerPos();
        }

        function updatePlayerPos() {
            const { row, col } = getCellCoords(currentPos);
            const boardSize = document.getElementById('board').offsetWidth;
            const cellSize = boardSize / 7;
            const playerSize = 18;
            
            document.getElementById('player').style.top = (row * cellSize + (cellSize - playerSize) / 2) + 'px';
            document.getElementById('player').style.left = (col * cellSize + (cellSize - playerSize) / 2) + 'px';
        }

        async function rollDice() {
            if (isMoving || energy <= 0) return;
            isMoving = true;
            document.getElementById('roll-btn').disabled = true;

            const roll = Math.floor(Math.random() * 6) + 1;
            document.getElementById('dice-result').innerText = ['âš€','âš','âš‚','âšƒ','âš„','âš…'][roll-1];

            for (let i = 0; i < roll; i++) {
                currentPos = (currentPos + 1) % cells.length;
                updatePlayerPos();
                await new Promise(r => setTimeout(r, 150));
            }

            const cell = cells[currentPos];
            energy += cell.e;
            score += cell.s;
            if (energy > 100) energy = 100;
            
            document.getElementById('energy').innerText = energy;
            document.getElementById('score').innerText = score;
            
            showModal(cell.name, cell.desc);

            if (energy <= 0) {
                setTimeout(() => {
                    showModal("åŠ›ç«­è€Œçµ‚", `ä½ åœ¨æ·±å±±ä¸­è€—ç›¡é«”åŠ›ï¼Œé›–ç„¶ç•™ä¸‹äº†æ–‡é‡‡ ${score}ï¼Œä½†æœªèƒ½èµ°å‡ºè°¿å±±...`);
                }, 500);
            }

            isMoving = false;
            document.getElementById('roll-btn').disabled = false;
        }

        function showModal(title, desc) {
            document.getElementById('modal-title').innerText = title;
            document.getElementById('modal-desc').innerText = desc;
            document.getElementById('modal-overlay').style.display = 'flex';
        }

        document.getElementById('modal-close').onclick = () => {
            document.getElementById('modal-overlay').style.display = 'none';
        };

        document.getElementById('roll-btn').onclick = rollDice;

        window.onload = initBoard;
        window.onresize = updatePlayerPos;
    </script>
</body>
</html>
    
  </body>
  
</html>
